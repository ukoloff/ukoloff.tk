---
title:  Теория языков программирования и методы трансляции
---
## Домашняя работа

Требуется написать программу,
которая принимает на входе строку
вида `2+3*4/(5-6)`,
вычисляет полученное выражение
и выводит результат
(в данном случае: `-10`).

Выражения состоят из:
- Целых десятичных чисел (`42`, `108`, `666`...)
- Скобок (`(` и `)`)
- Арифметических операций:
  * Унарные `+` и `-` (например: `+3`, `-5`)
  * Бинарные `*` и `/` (умножение и деление, например: `6*7` или `1/2`)
  * Бинарные `+` и `-` (сложение и вычитание, например: `1+1`, `10-20`)

Хотя числа в выражении целые,
результат может быть вещественным числом,
и так его и надо выводить
(`1/2` &rarr; `0.5`).
Арифметические ошибки можно игнорировать.

В случае,
если выражение неправильное (`1+`),
следует вывести вместо числа сообщение об ошибке
`# ERROR`.

Использовать можно любой язык программирования
(C, C++, Java, JavScript, Pascal, Python...),
однако запрещено использовать функции типа `eval`.

Текста программы недостаточно,
программа должна запускаться и работать.
Рекомендуется
размещать
(и даже разрабатывать)
программу на сайте
https://repl.it/
(и лучше там зарегистрироваться)
или аналогичных.
Присылайте ссылку на работающее решение на почту.

### Варианты

Каждый студент получает индивидуальное задание,
усложняющее вышеописанную постановку.
Его можно выбрать самому,
при условии,
что у разных студентов набор дополнений разный.
Выбрать можно любые две строки
(или больше при желании)
из следующего списка:

1. Вещественные числа (`3.14e+00`, дробная часть или степень необязательны)
2. Разные скобки (кроме `()` ещё `[]`, `{}` и `<>`), но скобки должны быть строго сбалансированы (`(2+3]` &rarr; ошибка)
3. Дополнительные операции
  1. Факториал `!` (`5!` &rarr; `120`)
  2. Возведение в степень `^` или `**`. Обратите внимание, что (`2^3^2` &rarr; `512`, а не `64`)
    * Только `^`
    * Только `**`
    * И `^` и `**`
  3. Максимум и минимум `?>` и `?<` (`2 ?> 3` &rarr; `3`)
  4. Тернарная операция `? :` (`1 ? 2 : 3` &rarr; `2`, а `0 ? 2 : 3` &rarr; `3`)
4. Идентификаторы (`word123`)
  1. Семантика
    * Константы `e` и `pi`
    * Функции одного аргумента (`sqrt()`, `sin()`, `cos()`, `tg()`, `ln()`, `lg()` и т.п., на свой вкус)
  2. Регистр
    * Важен (`e` &rarr; `2.718`, но `E` &rarr; ошибка)
    * Не важен (`e` &rarr; `2.718`, и `E` &rarr; `2.718`)
5. Пробельные символы
  1. Операнды могут разделяться пробелами и знаками табуляции `\t`, внутри чисел (и идентификаторов) пробелы недопустимы (например `1 + 2` но не `12 34`)
  2. Комментарии
    * В Unix-стиле: от `#` или `;` до конца строки
    * В C-стиле: от `//` (но не `/ /`) до конца строки
    * "Многострочные": от `/*` до `*/`, могут быть в середине строки (и несколько раз)
6. Сообщения об ошибках: выводить номер позиции и осмысленный текст ошибки (например `1 $ 2` &rarr; `# Недопустимый символ в поз. 3`), язык любой (русский, английский...)
7. Прочее. Идеи приветствуются

### That's all folks!
